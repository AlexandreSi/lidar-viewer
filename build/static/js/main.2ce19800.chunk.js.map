{"version":3,"sources":["components/Steps/Steps.style.js","components/Steps/Steps.component.js","App.style.js","utils/PointerLockControls.js","components/SceneManager3D.js","utils/LASLoader.js","utils/threeEntryPoint.js","components/ThreeContainer.js","App.js","serviceWorker.js","index.js","theme/style.js","utils/LasLaz.js"],"names":["ProgressContainer","styled","div","_templateObject","Steps","props","currentStep","colorsLoaded","fileRead","react_default","a","createElement","steps","current","Step","title","icon","type","Title","App_style_templateObject","style","fonts","primary","WelcomeContainer","_templateObject2","PointerLockControls","camera","scope","this","rotation","set","pitchObject","Object3D","add","yawObject","position","y","PI_2","Math","PI","onMouseMove","event","enabled","movementX","mozMovementX","webkitMovementX","movementY","mozMovementY","webkitMovementY","x","max","min","dispose","document","removeEventListener","addEventListener","getObject","getDirection","direction","Vector3","Euler","v","copy","applyEuler","SceneManager3D","canvas","screenDimensions","width","height","scene","Scene","renderer","_ref","devicePixelRatio","window","WebGLRenderer","alpha","antialias","setPixelRatio","setSize","buildRenderer","_ref2","PerspectiveCamera","buildCamera","controls","controlsObject","spawn","buildControls","moveForward","moveLeft","moveBackward","moveRight","prevTime","performance","now","velocity","deactivateKey","keyCode","preventDefault","stopPropagation","update","time","delta","z","Number","normalize","translateX","translateY","translateZ","render","onKeyDown","onKeyUp","onWindowResize","aspect","updateProjectionMatrix","innerWidth","innerHeight","createSceneSubjects","_ref3","color","geometry","BufferGeometry","addAttribute","Float32BufferAttribute","computeBoundingSphere","material","PointsMaterial","size","vertexColors","VertexColors","mesh","Points","name","LasLoader","manager","DefaultLoadingManager","littleEndian","prototype","constructor","load","url","onLoad","onProgress","onError","toggleColorsLoaded","loader","FileLoader","setResponseType","data","parse","e","_parse","Object","asyncToGenerator","regenerator_default","mark","_callee","buffer","lasFile","LASHeader","textData","lasData","decoder","i","l","point","pointCloud","wrap","_context","prev","next","LASFile","open","getHeader","sent","readData","pointsCount","offset","LASDecoder","pointsFormatId","pointsStructSize","scale","mins","maxs","getPoint","push","abrupt","stop","_x","_x2","apply","arguments","ThreeContainer","containerElement","changePercentage","requestPointerLock","appendChild","createCanvas","sceneManager","resizeCanvas","handleKeyDown","handleKeyUp","pointsPromise","then","pointsData","xhr","loaded","total","error","alert","loadPoints","onresize","onkeydown","onkeyup","animate","requestAnimationFrame","threeEntryPoint","threeRootElement","_this","backgroundColor","ref","element","Component","App","state","showTitle","showButton","showProgress","showViewer","percentageLoaded","handleClick","toggleTitle","toggleButton","toggleViewer","toggleProgress","setState","percentage","round","_this2","className","react_transition_group","in","classNames","timeout","onEntered","unmountOnExit","onExited","es_button","onClick","ThreeContainer_ThreeContainer","Steps_component","Boolean","location","hostname","match","ReactDOM","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","@primary-color","pointFormatReaders","0","dv","getInt32","intensity","getUint16","classification","getUint8","1","2","3","readAs","buf","Type","count","undefined","r","slice","BYTES_PER_ELEMENT","ret","waitHandlers","handleMessage","message_event","msg","resolver","id","setTimeout","reject","Error","message","hasOwnProperty","resolve","result","hasMoreData","LASLoader","arraybuffer","readOffset","Promise","res","rej","o","header","pointsOffset","Uint32Array","Uint8Array","Uint16Array","start","Float64Array","bounds","parseLASHeader","skip","end","pointsToRead","bufferSize","ceil","pointsRead","src","close","determineVersion","version","determineFormat","formatId","bit_7","bit_6","isCompressed","ver","Int8Array","versionAsString","pointFormatID","pointSize","arrayb","index","DataView","LASModuleWasLoaded"],"mappings":"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","file":"static/js/main.2ce19800.chunk.js","sourcesContent":["import styled from 'styled-components';\n\n\nexport const ProgressContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  width: 80%;\n  top: 50px;\n`;\n","import React from 'react';\nimport { Steps as AntDesignSteps, Icon } from 'antd';\n\nimport { ProgressContainer } from './Steps.style';\n\n\nconst Steps = (props) => {\n  const currentStep = props.colorsLoaded\n    ? 2\n    : props.fileRead ? 1 : 0;\n\n  return (\n    <ProgressContainer>\n      <AntDesignSteps current={currentStep}>\n        <AntDesignSteps.Step\n          title=\"Reading .LAS file\"\n          icon={currentStep === 0 ? <Icon type=\"loading\" /> : <Icon type=\"file-add\" />}\n        />\n        <AntDesignSteps.Step\n          title=\"Loading colors\"\n          icon={currentStep === 1 ? <Icon type=\"loading\" /> : <Icon type=\"bg-colors\" />}\n        />\n        <AntDesignSteps.Step\n          title=\"Ready to explore\"\n          icon={currentStep === 2 ? <Icon type=\"unlock\" /> : <Icon type=\"lock\" />}\n        />\n      </AntDesignSteps>\n    </ProgressContainer>\n  )\n}\n\nexport default Steps;\n","import styled from 'styled-components';\nimport { style } from 'theme/style';\n\n\nexport const Title = styled.div`\n  color: ${style['@primary-color']};\n  font-size: 40px;\n  font-family: ${style.fonts.primary};\n  margin-bottom: 30px;\n`;\n\nexport const WelcomeContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n","import { Object3D, Vector3, Euler } from 'three-full';\n\nvar PointerLockControls = function ( camera ) {\n\n\tvar scope = this;\n\n\tcamera.rotation.set( 0, 0, 0 );\n\n\tvar pitchObject = new Object3D();\n\tpitchObject.add( camera );\n\n\tvar yawObject = new Object3D();\n\tyawObject.position.y = 10;\n\tyawObject.add( pitchObject );\n\n\tvar PI_2 = Math.PI / 2;\n\n\tvar onMouseMove = function ( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tvar movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n\t\tvar movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n\n\t\tyawObject.rotation.y -= movementX * 0.002;\n\t\tpitchObject.rotation.x -= movementY * 0.002;\n\n\t\tpitchObject.rotation.x = Math.max( - PI_2, Math.min( PI_2, pitchObject.rotation.x ) );\n\t};\n\n\tthis.dispose = function () {\n\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\n\n\t};\n\n\tdocument.addEventListener( 'mousemove', onMouseMove, false );\n\n\tthis.enabled = false;\n\n\tthis.getObject = function () {\n\n\t\treturn yawObject;\n\n\t};\n\n\tthis.getDirection = function () {\n\n\t\tvar direction = new Vector3( 0, 0, - 1 );\n\t\tvar rotation = new Euler( 0, 0, 0, 'YXZ' );\n\n\t\treturn function ( v ) {\n\n\t\t\trotation.set( pitchObject.rotation.x, yawObject.rotation.y, 0 );\n\n\t\t\tv.copy( direction ).applyEuler( rotation );\n\n\t\t\treturn v;\n\n\t\t};\n\n\t}();\n\n};\n\nexport { PointerLockControls }\n","import {\n  Float32BufferAttribute,\n  VertexColors,\n  BufferGeometry,\n  PointsMaterial,\n  Points,\n  PerspectiveCamera,\n  Scene,\n  Vector3,\n  WebGLRenderer,\n} from 'three-full';\n\nimport { PointerLockControls } from 'utils/PointerLockControls';\n\nexport default (canvas) => {\n\n  const screenDimensions = {\n    width: canvas.width,\n    height: canvas.height\n  }\n\n  const scene = buildScene();\n  const renderer = buildRenderer(screenDimensions, canvas);\n  const camera = buildCamera(screenDimensions);\n  const controls = buildControls(camera);\n  scene.add(controls.getObject());\n\n  let moveForward = false;\n  let moveLeft = false;\n  let moveBackward = false;\n  let moveRight = false;\n  let prevTime = performance.now();\n  let velocity = new Vector3();\n  let direction = new Vector3();\n\n  function buildScene() {\n    const scene = new Scene();\n    return scene;\n  }\n\n  function buildRenderer({ width, height }, canvas) {\n    const devicePixelRatio = window.devicePixelRatio || 1;\n    const renderer = new WebGLRenderer({\n      canvas: canvas,\n      alpha: true,\n      antialias: true\n    });\n    renderer.setPixelRatio(devicePixelRatio);\n    renderer.setSize(width, height);\n\n    return renderer;\n  }\n\n  function buildCamera({ width, height }) {\n    const camera = new PerspectiveCamera(75, width / height, 1, 1000);\n\n    return camera;\n  }\n\n  function spawn(controlsObject) {\n    controlsObject.position.set(50.53, 4.88, 4.33);\n    controlsObject.rotation.y = - 3.36;\n  }\n\n  function buildControls(camera) {\n    const controls = new PointerLockControls(camera);\n    controls.enabled = true;\n    const controlsObject = controls.getObject()\n    spawn(controlsObject);\n\n    return controls\n  }\n\n  function createSceneSubjects(scene, { position, color }) {\n    var geometry = new BufferGeometry();\n    geometry.addAttribute(\n      'position',\n      new Float32BufferAttribute(position, 3)\n  );\n    geometry.addAttribute(\n      'color',\n      new Float32BufferAttribute(color, 3)\n  );\n    geometry.computeBoundingSphere();\n\n    // build material\n\n    var material = new PointsMaterial({\n      size: 0.1,\n      vertexColors: VertexColors,\n    });\n\n    // build mesh\n    var mesh = new Points(geometry, material);\n    mesh.name = 'pointCloud';\n    scene.add(mesh);\n  }\n\n  function update() {\n    let time = performance.now();\n    let delta = (time - prevTime) / 1000;\n\n    velocity.x -= velocity.x * 10.0 * delta;\n\t\tvelocity.z -= velocity.z * 10.0 * delta;\n\n    direction.z = Number(moveForward) - Number(moveBackward);\n    direction.x = Number(moveLeft) - Number(moveRight);\n    direction.normalize();\n\n    if (moveForward || moveBackward) velocity.z -= direction.z * 50.0 * delta;\n    if (moveLeft || moveRight) velocity.x -= direction.x * 50.0 * delta;\n\n    controls.getObject().translateX(velocity.x * delta);\n    controls.getObject().translateY(velocity.y * delta);\n    controls.getObject().translateZ(velocity.z * delta);\n\n    prevTime = time;\n\n    renderer.render(scene, camera);\n  }\n\n  function onWindowResize(canvas) {\n    const { width, height } = canvas;\n\n    camera.aspect = width / height;\n    camera.updateProjectionMatrix();\n\n    screenDimensions.width = width;\n    screenDimensions.height = height;\n\n    renderer.setSize(window.innerWidth, window.innerHeight);\n  }\n\n  function onKeyDown(event) {\n    deactivateKey(event);\n    switch (event.keyCode) {\n      case 38: // up\n      case 90: // z\n        moveForward = true;\n        break;\n      case 37: // left\n      case 81: // q\n        moveLeft = true;\n        break;\n      case 40: // down\n      case 83: // s\n        moveBackward = true;\n        break;\n      case 39: // right\n      case 68: // d\n        moveRight = true;\n        break;\n      default:\n        break;\n    }\n  };\n\n  function deactivateKey(event) {\n    if (event.keyCode in [ 38, 90, 37, 81, 40, 83, 39, 68]) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  function onKeyUp(event) {\n    deactivateKey(event);\n    switch (event.keyCode) {\n      case 38: // up\n      case 90: // z\n        moveForward = false;\n        break;\n      case 37: // left\n      case 81: // q\n        moveLeft = false;\n        break;\n      case 40: // down\n      case 83: // s\n        moveBackward = false;\n        break;\n      case 39: // right\n      case 68: // d\n        moveRight = false;\n        break;\n      default:\n        break;\n    }\n  };\n\n\n  return {\n    update,\n    onKeyDown,\n    onKeyUp,\n    onWindowResize,\n    createSceneSubjects,\n    scene,\n  }\n}\n","/* eslint-disable */\nimport {\n  FileLoader,\n  DefaultLoadingManager,\n} from 'three-full';\n\nimport { LASFile, LASDecoder } from './LasLaz';\n\nvar LasLoader = function ( ) {\n\n  this.manager = DefaultLoadingManager;\n  this.littleEndian = true;\n\n};\n\nLasLoader.prototype = {\n\n  constructor: LasLoader,\n\n  load: function ( url, onLoad, onProgress, onError, toggleColorsLoaded ) {\n\n    var scope = this;\n\n    var loader = new FileLoader( scope.manager );\n    loader.setResponseType( 'arraybuffer' );\n    loader.load( url, function ( data ) {\n\n      try {\n\n        onLoad( scope.parse( data, url ), toggleColorsLoaded );\n\n      } catch ( e ) {\n\n        if ( onError ) {\n\n          onError( e );\n\n        } else {\n\n          throw e;\n\n        }\n\n      }\n\n    }, onProgress, onError );\n\n  },\n\n  parse: async function ( buffer, url ) {\n    var scope = this;\n\n    let lasFile = new LASFile(buffer);\n    lasFile.open();\n\n    var LASHeader = await lasFile.getHeader();\n    var textData = await lasFile.readData(LASHeader.pointsCount, LASHeader.offset, 0);\n\n    var offset = LASHeader.offset;\n    var lasData = textData.buffer;\n    var decoder = new LASDecoder(\n      lasData,\n      LASHeader.pointsFormatId,\n      LASHeader.pointsStructSize,\n      LASHeader.pointsCount,\n      LASHeader.pointsCount,\n      LASHeader.scale,\n      LASHeader.offset,\n      LASHeader.mins,\n      LASHeader.maxs,\n    );\n\n    var position = [];\n    var color = [];\n\n    // load one every four point, for performance issues\n    for ( var i = 0, l = LASHeader.pointsCount - 1; i < l; i += 4 ) {\n      var point = decoder.getPoint(i);\n      position.push(\n        (point.position[0] * LASHeader.scale[0])\n        + LASHeader.offset[0] - LASHeader.mins[0]\n      );\n      position.push(\n        (point.position[2] * LASHeader.scale[2])\n        + LASHeader.offset[2] - LASHeader.mins[2]\n      );\n      position.push(\n        (point.position[1] * LASHeader.scale[1])\n        + LASHeader.offset[1] - LASHeader.mins[1]\n      );\n      color.push(point.color[0] / 65535);\n      color.push(point.color[1] / 65535);\n      color.push(point.color[2] / 65535);\n    }\n    const pointCloud = { position, color }\n\n    return pointCloud\n  },\n};\n\nexport { LasLoader }\n","/* eslint-disable */\nimport SceneManager3D from 'components/SceneManager3D';\nimport { LasLoader } from 'utils/LASLoader';\n\nexport default (containerElement, changePercentage, toggleColorsLoaded) => {\n  const canvas = createCanvas(document, containerElement);\n  let pointCloud = undefined;\n  let sceneManager = new SceneManager3D(canvas);\n  loadPoints(toggleColorsLoaded);\n\n  bindEventListeners();\n  animate();\n\n  function loadPoints(toggleColorsLoaded) {\n    const fileURL = 'Block_589.las';\n\n    const loader = new LasLoader(toggleColorsLoaded);\n\n    const onLoaded = (pointsPromise, toggleColorsLoaded) => {\n\n      pointsPromise.then((pointsData) => {\n        pointCloud = pointsData;\n        sceneManager.createSceneSubjects(sceneManager.scene, pointsData)\n        toggleColorsLoaded()\n      });\n    }\n\n    const onProgress = (xhr) => {\n      changePercentage(xhr.loaded / xhr.total * 100)\n    }\n\n    const onError = (error) => {\n      window.alert(error || 'An error happened when downloading the file');\n    }\n\n    loader.load(\n      fileURL,\n      onLoaded,\n      onProgress,\n      onError,\n      toggleColorsLoaded,\n    );\n  }\n\n  function createCanvas(document, containerElement) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.requestPointerLock();\n    containerElement.appendChild(canvas);\n    return canvas;\n  }\n\n  function bindEventListeners() {\n    window.onresize = resizeCanvas;\n    window.onkeydown = handleKeyDown;\n    window.onkeyup = handleKeyUp;\n    resizeCanvas();\n  }\n\n  function resizeCanvas() {\n    canvas.style.width = \"100%\";\n    canvas.style.height= \"100%\";\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n    sceneManager.onWindowResize(canvas);\n  }\n\n  function handleKeyDown(event) {\n    sceneManager.onKeyDown(event);\n  }\n\n  function handleKeyUp(event) {\n    sceneManager.onKeyUp(event);\n  }\n\n  function animate() {\n    requestAnimationFrame(animate);\n\n    sceneManager.update();\n  }\n}\n","import React, { Component } from 'react';\nimport threeEntryPoint from 'utils/threeEntryPoint';\n\n\nexport default class ThreeContainer extends Component {\n\n  componentDidMount() {\n    threeEntryPoint(\n      this.threeRootElement,\n      this.props.changePercentage,\n      this.props.toggleColorsLoaded\n    );\n  }\n\n  render() {\n    return (\n      <div\n        style={{ backgroundColor: '#f0f0f0' }}\n        ref={(element) => { this.threeRootElement = element; }}\n      >\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Button } from 'antd';\nimport { CSSTransition } from 'react-transition-group'\n\nimport Steps from 'components/Steps';\nimport { Title, WelcomeContainer } from './App.style';\nimport ThreeContainer from 'components/ThreeContainer';\nimport './App.css';\n\n\nclass App extends Component {\n  state = {\n    colorsLoaded: false,\n    showTitle: false,\n    showButton: true,\n    showProgress: false,\n    showViewer: false,\n    percentageLoaded: 0,\n  }\n\n  componentDidMount() {\n    this.setState({\n      showButton: false,\n      showTitle: true,\n    })\n  }\n\n  handleClick = () => {\n    this.toggleTitle()\n    this.toggleButton()\n  }\n\n  toggleViewer = () => {\n    this.toggleProgress()\n    this.setState({\n      showViewer: !this.state.showViewer,\n    })\n  }\n\n  toggleTitle = () => {\n    this.setState({\n      showTitle: !this.state.showTitle,\n    })\n  }\n\n  toggleButton = () => {\n    this.setState({\n      showButton: !this.state.showButton,\n    })\n  }\n\n  toggleProgress = () => {\n    this.setState({\n      showProgress: !this.state.showProgress,\n    })\n  }\n\n  changePercentage = (percentage) => {\n    this.setState({\n      percentageLoaded: Math.round(percentage),\n    })\n  }\n\n  toggleColorsLoaded = () => {\n    this.setState({\n      colorsLoaded: true,\n    })\n    this.toggleProgress()\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <WelcomeContainer>\n          <CSSTransition\n            in={this.state.showTitle}\n            classNames=\"title\"\n            timeout={1200}\n            onEntered={() => this.setState({ showButton: true })}\n            unmountOnExit\n          >\n            <Title>Welcome to LiDAR-viewer</Title>\n          </CSSTransition>\n          <CSSTransition\n            in={this.state.showButton}\n            classNames=\"continue-button\"\n            timeout={1200}\n            onExited={this.toggleViewer}\n            unmountOnExit\n          >\n            <Button type=\"primary\" onClick={this.handleClick}>Continue</Button>\n          </CSSTransition>\n        </WelcomeContainer>\n        {this.state.showViewer && (\n          <ThreeContainer\n            changePercentage={this.changePercentage}\n            toggleColorsLoaded={this.toggleColorsLoaded}\n          />\n        )}\n        <CSSTransition\n          in={this.state.showProgress}\n          classNames=\"progress\"\n          timeout={1000}\n          unmountOnExit\n        >\n          <Steps\n            fileRead={this.state.percentageLoaded === 100}\n            colorsLoaded={this.state.colorsLoaded}\n          />\n        </CSSTransition>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const style = {\n  '@primary-color': '#1d9ea5',\n  fonts: {\n    primary: 'SansForgetica-Regular',\n  }\n};\n\nmodule.exports = {\n  style,\n}\n","/* eslint-disable */\n\n((scope) => {\n  var pointFormatReaders = {\n    0: (dv) => {\n      return {\n        \"position\": [ dv.getInt32(0, true), dv.getInt32(4, true), dv.getInt32(8, true)],\n        \"intensity\": dv.getUint16(12, true),\n        \"classification\": dv.getUint8(16, true)\n      };\n    },\n    1: (dv) => {\n      return {\n        \"position\": [ dv.getInt32(0, true), dv.getInt32(4, true), dv.getInt32(8, true)],\n        \"intensity\": dv.getUint16(12, true),\n        \"classification\": dv.getUint8(16, true)\n      };\n    },\n    2: (dv) => {\n      return {\n        \"position\": [ dv.getInt32(0, true), dv.getInt32(4, true), dv.getInt32(8, true)],\n        \"intensity\": dv.getUint16(12, true),\n        \"classification\": dv.getUint8(16, true),\n        \"color\": [dv.getUint16(20, true), dv.getUint16(22, true), dv.getUint16(24, true)]\n      };\n    },\n    3: (dv) => {\n      return {\n        \"position\": [ dv.getInt32(0, true), dv.getInt32(4, true), dv.getInt32(8, true)],\n        \"intensity\": dv.getUint16(12, true),\n        \"classification\": dv.getUint8(16, true),\n        \"color\": [dv.getUint16(28, true), dv.getUint16(30, true), dv.getUint16(32, true)]\n      };\n    }\n  };\n\n  function readAs(buf, Type, offset, count) {\n    count = (count === undefined || count === 0 ? 1 : count);\n    var sub = buf.slice(offset, offset + Type.BYTES_PER_ELEMENT * count);\n\n    var r = new Type(sub);\n    if (count === undefined || count === 1)\n      return r[0];\n\n    var ret = [];\n    for (var i = 0 ; i < count ; i ++) {\n      ret.push(r[i]);\n    }\n\n    return ret;\n  }\n\n  function parseLASHeader(arraybuffer) {\n    var o = {};\n\n    o.pointsOffset = readAs(arraybuffer, Uint32Array, 32*3);\n    o.pointsFormatId = readAs(arraybuffer, Uint8Array, 32*3+8);\n    o.pointsStructSize = readAs(arraybuffer, Uint16Array, 32*3+8+1);\n    o.pointsCount = readAs(arraybuffer, Uint32Array, 32*3 + 11);\n\n\n    var start = 32*3 + 35;\n    o.scale = readAs(arraybuffer, Float64Array, start, 3); start += 24; // 8*3\n    o.offset = readAs(arraybuffer, Float64Array, start, 3); start += 24;\n\n\n\n    var bounds = readAs(arraybuffer, Float64Array, start, 6); start += 48; // 8*6;\n    o.maxs = [bounds[0], bounds[2], bounds[4]];\n    o.mins = [bounds[1], bounds[3], bounds[5]];\n\n    return o;\n  }\n\n  var waitHandlers = {};\n\n  scope.handleMessage = function(message_event) {\n    var msg = message_event.data;\n    var resolver = waitHandlers[msg.id];\n    delete waitHandlers[msg.id];\n\n    setTimeout(function() {\n      if (msg.error)\n        return resolver.reject(new Error(msg.message || \"Unknown Error\"));\n\n      if (msg.hasOwnProperty('count') && msg.hasOwnProperty('hasMoreData')) {\n        return resolver.resolve({\n          buffer: msg.result,\n          count: msg.count,\n          hasMoreData: msg.hasMoreData});\n      }\n\n      resolver.resolve(msg.result);\n    }, 0);\n  };\n\n\n  // LAS Loader\n  // Loads uncompressed files\n  //\n  var LASLoader = function(arraybuffer) {\n    this.arraybuffer = arraybuffer;\n  };\n\n  LASLoader.prototype.open = function() {\n    // nothing needs to be done to open this file\n    //\n    this.readOffset = 0;\n    return new Promise(function(res, rej) {\n      setTimeout(res, 0);\n    });\n  };\n\n  LASLoader.prototype.getHeader = function() {\n    var o = this;\n\n    return new Promise(function(res, rej) {\n      setTimeout(function() {\n        o.header = parseLASHeader(o.arraybuffer);\n        res(o.header);\n      }, 0);\n    });\n  };\n\n  LASLoader.prototype.readData = function(count, offset, skip) {\n    var o = this;\n\n    return new Promise(function(res, rej) {\n      setTimeout(function() {\n        if (!o.header)\n          return rej(new Error(\"Cannot start reading data till a header request is issued\"));\n\n        var start;\n        if (skip <= 1) {\n          count = Math.min(count, o.header.pointsCount - o.readOffset);\n          start = o.header.pointsOffset + o.readOffset * o.header.pointsStructSize;\n          var end = start + count * o.header.pointsStructSize;\n          res({\n            buffer: o.arraybuffer.slice(start, end),\n            count: count,\n            hasMoreData: o.readOffset + count < o.header.pointsCount});\n          o.readOffset += count;\n        }\n        else {\n          var pointsToRead = Math.min(count * skip, o.header.pointsCount - o.readOffset);\n          var bufferSize = Math.ceil(pointsToRead / skip);\n          var pointsRead = 0;\n\n          var buf = new Uint8Array(bufferSize * o.header.pointsStructSize);\n          for (var i = 0 ; i < pointsToRead ; i ++) {\n            if (i % skip === 0) {\n              start = o.header.pointsOffset + o.readOffset * o.header.pointsStructSize;\n              var src = new Uint8Array(o.arraybuffer, start, o.header.pointsStructSize);\n\n              buf.set(src, pointsRead * o.header.pointsStructSize);\n              pointsRead ++;\n            }\n\n            o.readOffset ++;\n          }\n\n          res({\n            buffer: buf.buffer,\n            count: pointsRead,\n            hasMoreData: o.readOffset < o.header.pointsCount\n          });\n        }\n      }, 0);\n    });\n  };\n\n  LASLoader.prototype.close = function() {\n    var o = this;\n    return new Promise(function(res, rej) {\n      o.arraybuffer = null;\n      setTimeout(res, 0);\n    });\n  };\n\n  // A single consistent interface for loading LAS/LAZ files\n  var LASFile = function(arraybuffer) {\n    this.arraybuffer = arraybuffer;\n\n    this.determineVersion();\n    if (this.version > 12)\n      throw new Error(\"Only file versions <= 1.2 are supported at this time\");\n\n    this.determineFormat();\n    if (pointFormatReaders[this.formatId] === undefined)\n      throw new Error(\"The point format ID is not supported\");\n\n    this.loader = new LASLoader(this.arraybuffer);\n  };\n\n  LASFile.prototype.determineFormat = function() {\n    var formatId = readAs(this.arraybuffer, Uint8Array, 32*3+8);\n    var bit_7 = (formatId & 0x80) >> 7;\n    var bit_6 = (formatId & 0x40) >> 6;\n\n    if (bit_7 === 1 && bit_6 === 1)\n      throw new Error(\"Old style compression not supported\");\n\n    this.formatId = formatId & 0x3f;\n    this.isCompressed = (bit_7 === 1 || bit_6 === 1);\n  };\n\n  LASFile.prototype.determineVersion = function() {\n    var ver = new Int8Array(this.arraybuffer, 24, 2);\n    this.version = ver[0] * 10 + ver[1];\n    this.versionAsString = ver[0] + \".\" + ver[1];\n  };\n\n  LASFile.prototype.open = function() {\n    return this.loader.open();\n  };\n\n  LASFile.prototype.getHeader = function() {\n    return this.loader.getHeader();\n  };\n\n  LASFile.prototype.readData = function(count, start, skip) {\n    return this.loader.readData(count, start, skip);\n  };\n\n  LASFile.prototype.close = function() {\n    return this.loader.close();\n  };\n\n  // Decodes LAS records into points\n  //\n  var LASDecoder = function(buffer, pointFormatID, pointSize, pointsCount, scale, offset, mins, maxs) {\n    this.arrayb = buffer;\n    this.decoder = pointFormatReaders[pointFormatID];\n    this.pointsCount = pointsCount;\n    this.pointSize = pointSize;\n    this.scale = scale;\n    this.offset = offset;\n    this.mins = mins;\n    this.maxs = maxs;\n  };\n\n  LASDecoder.prototype.getPoint = function(index) {\n    if (index < 0 || index >= this.pointsCount) {\n      throw new Error(\"Point index out of range\");\n    }\n\n    var dv = new DataView(this.arrayb, index * this.pointSize, this.pointSize);\n    return this.decoder(dv);\n  };\n\n  scope.LASLoader = LASLoader;\n  scope.LASFile = LASFile;\n  scope.LASDecoder = LASDecoder;\n  scope.LASModuleWasLoaded = false;\n})(module.exports);\n"],"sourceRoot":""}